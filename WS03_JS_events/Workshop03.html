<!DOCTYPE html>
<html lang="fi">

<head>
    <meta charset="utf-8">
    <title>Työpaja 3</title>
    <link rel="stylesheet" href="css/styles.css">
    <script>
        <!-- JavaScript menee tänne -->
    </script>
</head>

<body class="ws3">
    <h1>Työpaja 3: JavaScript-tapahtumat</h1>
    <hr />
    <p>Tässä harjoituksessa harjoittelemme JavaScript-tapahtumien käyttöä. Käytä luentomateriaalia rinnakkain näiden
        harjoitusten kanssa. On myös hyvä idea tallentaa kirjoittamasi koodirivit myöhempää käyttöä varten.</p>
    <hr />
    <h2>Harjoitus 1</h2>
    <p>Alla näet kolme painiketta. Muokkaa lähdekoodia ja lisää näihin painikkeisiin onClick-tapahtumat.</p>
    <p>
        <button>Napsauta minua</button>
        <button>Näytä taulukko</button>
    </p>
    <div id="taulukonPaikka"></div>
    <ol>
        <li>Ensimmäisen painikkeen pitäisi avata alert-ikkuna, joka sanoo "Klikkasit minua!"</li>
        <li>Toinen painike kutsuu kirjoittamaasi funktiota nimeltä showTable(). `showTable`-funktio tulostaa sivulle
            itse määrittelemäsi HTML-taulukon (alla) sivulle.</li>
        <li>Vinkki: Määrittele taulukko käyttäen backtick merkkejä eli ` -merkkejä.</li>
        <li>Määrittele kenttien sisältö muuttujina backtick-merkkien sisällä, esim. ${nimi} ja ${tehtava}. Esittele muuttjien arvot JS-koodissa ennen niiden tulostamista.</li>
        <li Vinkki:Kun saat tulostuksen toimimaan, voit etsiä taulukolle sopivan paikan käyttäen document.querySelector() -funktiota. 
            Käytä innerHTML-kenttää sisällön asettamiseen. Sijoita taulukko elementtiin, jonka id on 'taulukonPaikka' </li>
    </ol>
    Määrittele kenttien sisältö muuttujina backtick-merkkien sisällä, esim. ${nimi} ja ${tehtava}. Esittele muuttjien arvot JS-koodissa ennen niiden tulostamista.

    <table id="example" class="display" border="1">
        <thead>
            <tr>
                <th>Nimi</th>
                <th>Tehtävä</th>
                <th>Palkka</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Tiger Nixon</td>
                <td>System Architect</td>
                <td>$320,800</td>
            </tr>
            <tr>
                <td>Garrett Winters</td>
                <td>Accountant</td>
                <td>$170,750</td>
            </tr>

        </tbody>
    </table>

    <hr />
    <h2>Harjoitus 2</h2>
    <ul>
        <li>Lisää onMouseOver-tapahtuma otsikkoon "Harjoitus 2". Tapahtuman pitäisi aktivoitua, kun hiiri siirtyy
            otsikon
            päälle. Tulosta konsoliin: "Stepped over my a mouse!"</li>
        <li>Lisää toinen tapahtuma, joka aktivoituu, kun hiirellä klikataa Exercise 1 -otsikon päältä. Vaihda tällä
            kertaa otsikon väri punaiseksi ja sisällöksi teksti: "Bye bye mouse!".
            Lisää kuuntelija dynaamisesti addEventListener()-funktiolla</li>

        Vinkki: etsi elementti käyttäen document.querySelector() -funktiota. Sisältöön pääset käsiksi
        innerHTML-kentän avulla.
    </ul>
    <hr />

<h2>Harjoitus 3</h2>
<p>Tässä harjoituksessa rakennat yksinkertaisen "pikapalaute"-lomakkeen, jossa harjoittelet DOM‑käsittelyä ja erilaisia tapahtumankuuntelijoita.</p>

<ul>
    <li>
        Lisää <strong>focus</strong>-tapahtuma <code>textarea</code>-elementtiin.  
        Kun kenttä saa fokuksen, näytä elementissä <code>#status</code> teksti:  
        <em>"Kirjoita selkeä palaute. Käytä asiallista kieltä."</em>  
        Voit myös halutessasi muuttaa tekstialueen taustaväriä.
    </li>

    <li>
        Lisää <strong>blur</strong>-tapahtuma.  
        Kun käyttäjä siirtyy pois kentästä, tyhjennä status‑teksti ja palauta alkuperäinen taustaväri.
    </li>

    <li>
        Lisää <strong>input</strong>-tapahtuma <code>textarea</code>-kenttään.  
        Jokaisella näppäimellä:
        <ul>
            <li>päivitä merkkimäärä elementtiin <code>#charcount</code> muodossa <strong>X/200</strong></li>
            <li>muuta tekstin väri punaiseksi, jos käyttäjä ylittää 200 merkkiä</li>
            <li>päivitä reaaliaikainen esikatselu elementtiin <code>#preview</code></li>
            <li>estä "Lähetä"-painikkeen käyttö, jos merkkejä on < 10 tai > 200</li>
        </ul>
    </li>

    <li>
        Lisää <strong>keydown</strong>-tapahtuma.  
        Jos käyttäjä painaa <strong>Ctrl + Enter</strong> (Windows) tai <strong>Cmd + Enter</strong> (Mac),
        yritä lähettää lomake ohjelmallisesti (kutsu esimerkiksi <code>form.requestSubmit()</code>).
    </li>

    <li>
        Lisää <strong>submit</strong>-tapahtumankuuntelija lomakkeeseen.  
        Sen tulee:
        <ul>
            <li>kutsua <code>event.preventDefault()</code></li>
            <li>tarkistaa, että palaute on 10–200 merkkiä pitkä</li>
            <li>näyttää virheilmoituksen <code>#status</code>-elementissä</li>
            <li>onnistuneessa lähetyksessä näyttää viestin <em>"Kiitos palautteesta!"</em>, tyhjentää tekstialueen ja nollata laskurin ja esikatselun</li>
        </ul>
    </li>

    <li>
        <strong>Lähetä-painikkeen deaktivointi:</strong>  
        Napin tulee olla <code>disabled</code>, kun:
        <ul>
            <li>kenttä on tyhjä</li>
            <li>merkkejä on alle 10</li>
            <li>merkkejä on yli 200</li>
        </ul>
    </li>

    <li>
        <strong>Bonus:</strong>
        <ul>
            <li>Näytä edistymispalkki (merkkimäärä → leveys suhteessa 200)</li>
            <li>Kopioi esikatselun sisältö leikepöydälle napista</li>
            <li>Tallenna käyttäjän kirjoittama palaute <code>localStorage</code>en</li>
        </ul>
    </li>
</ul>

<hr>

<p>Käytä seuraavaa lomakepohjaa:</p>
<code>
<form id="feedbackForm" novalidate>
  <label for="feedback">Palaute (min 10 merkkiä, max 200):</label><br>
  <textarea id="feedback" placeholder="Kirjoita palaute..." rows="5"></textarea><br>

  <div style="margin: 4px 0;">
    <span id="charcount">0/200</span>
    <span id="status" aria-live="polite" style="margin-left: 8px; color: #666;"></span>
  </div>

  <button id="sendBtn" type="submit" disabled>Lähetä</button>
</form>
</code>
<hr>

<h3>Esikatselu</h3>
<div id="preview" style="border: 1px solid #ccc; padding: 8px; min-height: 40px; background: #fafafa;">
  (Esikatselu tulee tähän)
</div>
    
    <hr />
    <h2>Harjoitus 4</h2>
    <div id="coordinates">Lorem ipsum</div>
    <p>Lisää onMouseMove-tapahtuma yllä olevaan DIV-elementtiin. Kun liikutat
        hiirtä DIVin (suorakulmion) päällä, ohjelman pitäisi tulostaa kohdistimen
        koordinaatit.

        Kokeile ensin tulostamista konsoliin `console.log`-komennolla.

    <p>Kun ohjelma toimii, voit kokeilla tulostaa tekstin elementtiin, jolla on id
        "coords".</p>
    <p>VINKKI: Käytä <code>document.getElementById("coordinates").innerHTML</code> tulostuksen toteuttamiseen.</p>

    <h2> Bonus-tehtävä</h2>

    <p>Tee nappi joka tarkistaa käyttäjän sijainnin käyttäen <a
            href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API/Using_the_Geolocation_API">Geolocation
            API:a</a ja tulostaa sijainnin koordinaatit konsoliin <p>
        . Huom: Jotkin selaimet eivät salli tätä vaihtamatta turva-asetuksia. Kokeile eri selaimia, jos saat virheitä.
    <p>Ohjaa lopuksi selain Google Maps -sivulle. Rakenna osoite käyttäen
        lukemiasi koordinaatteja.
    <p>VINKKI: Voit avata Google Mapsin tietyillä koordinaateilla linkillä:
        `https://www.google.com/maps?q=LATITUDE,LONGITUDE`
    <p>Bonus: Miten voisi käsitellä tilanteen, jossa sijainti ei
        ole saatavilla?
</body>

</html>
